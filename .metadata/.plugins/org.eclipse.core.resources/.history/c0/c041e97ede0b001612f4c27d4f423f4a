package multimediaProgramming.finalAssignment;

import java.applet.AudioClip;
import java.awt.BorderLayout;
import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;
import java.awt.event.WindowEvent;
import java.awt.event.WindowListener;

import javax.swing.ImageIcon;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;

public class MediaPlayer extends JFrame implements WindowListener, ItemListener {
	
	private String 
							dir = "src\\multimediaProgramming\\finalAssignment\\", 
							slashFlag = "flags\\", 
							slashAudio = "anthems\\",
							currentAnthem = "Denmark.wav",
							currentFlag = "denmark.jpg",
							selected;
							;
	private ImageIcon flag = new ImageIcon(dir + slashFlag + currentFlag);
	// Applet.newAudioClip(dir + slashAudio + currentAnthem)
	private AudioClip audio;
	private JLabel labelImage = new JLabel(flag);
	private JComboBox country = new JComboBox();

	public String toString() {
		return dir + slashFlag + currentFlag;
	}
	
	public MediaPlayer() {
		addDropDown();
		add(labelImage, BorderLayout.EAST);
		add(country, BorderLayout.NORTH);
		setDefaultCloseOperation(EXIT_ON_CLOSE);
		pack();
		setVisible(true);
	}
	
	private void addDropDown() {
		 country.addItem("USA");
		 country.addItem("UK");
		 country.addItem("Denmark");
		 country.addItem("Norway");
		 country.addItem("China");
		 country.addItem("India");
		 country.addItem("Germany");
		 country.addItemListener(this);
	}
	
	public void windowActivated(WindowEvent arg0) {
		// TODO Auto-generated method stub
		
	}

	public void windowClosed(WindowEvent arg0) {
		// TODO Auto-generated method stub
		
	}

	public void windowClosing(WindowEvent arg0) {
		// TODO Auto-generated method stub
		audio.stop();
	}

	public void windowDeactivated(WindowEvent arg0) {
		// TODO Auto-generated method stub
		
	}

	public void windowDeiconified(WindowEvent arg0) {
		// TODO Auto-generated method stub
		
	}

	public void windowIconified(WindowEvent arg0) {
		// TODO Auto-generated method stub
		
	}

	public void windowOpened(WindowEvent arg0) {
		// TODO Auto-generated method stub
		
	}

	public void itemStateChanged(ItemEvent arg0) {
		// TODO Auto-generated method stub
		String[] fileType = {".jpg", ".wav"};
		selected = (String)country.getSelectedItem();
		int length = selected.length()/2;
		currentAnthem = selected + fileType[1];			
		currentFlag = selected + fileType[0];
		System.out.println(currentFlag);
		System.out.println(currentAnthem);
	}

	public static void main(String[] args) {
		try {
			new MediaPlayer();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

}
