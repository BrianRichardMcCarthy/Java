package multimediaProgramming.assignmentFour;

/**
 * @version 1.20 2 Jul 1998
 * @author Cay Horstmann
 */

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;

class TextTestFrame extends JFrame implements DocumentListener {
	public TextTestFrame() {
		setTitle("TextTest");
		setSize(300, 200);
		addWindowListener(new WindowAdapter() {
			public void windowClosing(WindowEvent e) {
				System.exit(0);
			}
		});

		Container contentPane = getContentPane();

		// create panel for text field and place it in SOUTH area
		JPanel p = new JPanel();
		hourField = new JTextField("12", 3);
		p.add(hourField);
		hourField.getDocument().addDocumentListener(this); // listener

		minuteField = new JTextField("00", 3);
		p.add(minuteField);
		minuteField.getDocument().addDocumentListener(this);// listener

		// create clock panel and place it in CENTER area
		contentPane.add(p, "South");
		clock = new ClockPanel();
		contentPane.add(clock, "Center");
		setVisible(true);
	}

	// methods in DocumentListener
	public void insertUpdate(DocumentEvent e) {
		setClock();
		System.out.println("insert");
	}

	public void removeUpdate(DocumentEvent e) {
		setClock();
		System.out.println("update");
	}

	public void changedUpdate(DocumentEvent e) {
		System.out.println("change");
	}

	// read values in textfields and update clock accordingly
	public void setClock() {
		if (!hourField.getText().isEmpty()) {
			h = Integer.parseInt(hourField.getText().trim());
		} 
		if (!minuteField.getText().isEmpty()) {
			int minutes = Integer.parseInt(minuteField.getText().trim());
			m = minutes;
		}
		clock.setTime(h, minutes);			
	}

	private JTextField hourField;
	private JTextField minuteField;
	private ClockPanel clock;
	private int h, m;
}
